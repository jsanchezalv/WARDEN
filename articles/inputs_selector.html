<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>How to Use the Automatic Input Selector • WARDEN</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="How to Use the Automatic Input Selector">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZEDNGW5QRP"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZEDNGW5QRP');
</script><!-- Google tag (gtag.js) -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">WARDEN</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="View Index"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>Core Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/warden_explained.html">Warden Explained</a></li>
    <li><a class="dropdown-item" href="../articles/example_ssd.html">Sick-Sicker-Dead Model (SSD)</a></li>
    <li><a class="dropdown-item" href="../articles/example_ssd_constrained.html">Resource Constrained SSD model</a></li>
    <li><a class="dropdown-item" href="../articles/inputs_selector.html">How to Use the Automatic Input Selector</a></li>
    <li><a class="dropdown-item" href="../articles/example_eBC.html">Early Breast Cancer</a></li>
    <li><a class="dropdown-item" href="../articles/example_ipd.html">Using Individual Patient Data</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other Tutorials and Best Practices</h6></li>
    <li><a class="dropdown-item" href="../articles/example_markov.html">Cohort Markov Model</a></li>
    <li><a class="dropdown-item" href="../articles/example_avoiding_cycles.html">How to Avoid Using Cycles to Speed Up Model</a></li>
    <li><a class="dropdown-item" href="../articles/example_uncertainty.html">Structural and Parametric Uncertainty</a></li>
    <li><a class="dropdown-item" href="../articles/example_ssd_stream.html">Random Number Streams &amp; Luck Adjustment (SSD model)</a></li>
    <li><a class="dropdown-item" href="../articles/example_ssd_sobol.html">Quasi-Random Sobol Sequence vs. Purely Random (SSD model)</a></li>
    <li><a class="dropdown-item" href="../articles/example_colon_degeling.html">Degeling (2025) using WARDEN instead of simmer</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jsanchezalv/WARDEN" aria-label="View on Github"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="inputs_selector_files/kePrint-0.0.1/kePrint.js"></script><link href="inputs_selector_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>How to Use the Automatic Input Selector</h1>
                        <h4 data-toc-skip class="author">Javier Sanchez
Alvarez</h4>
            
            <h4 data-toc-skip class="date">October 08, 2025</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jsanchezalv/WARDEN/blob/main/vignettes/articles/inputs_selector.Rmd" class="external-link"><code>vignettes/articles/inputs_selector.Rmd</code></a></small>
      <div class="d-none name"><code>inputs_selector.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">"dplyr"</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="http://haozhu233.github.io/kableExtra/" class="external-link">"kableExtra"</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'kableExtra'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:dplyr':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     group_rows</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://yihui.org/knitr/" class="external-link">"knitr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://purrr.tidyverse.org/" class="external-link">"purrr"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="http://www.stats.ox.ac.uk/pub/MASS4/" class="external-link">"MASS"</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'MASS'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:dplyr':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     select</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://jsanchezalv.github.io/WARDEN/">"WARDEN"</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>scipen <span class="op">=</span> <span class="fl">999</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>digits<span class="op">=</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>tibble.print_max <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This document explains how to use the set of functions related to
automatic input selector, particularly <code><a href="../reference/pick_val_v.html">pick_val_v()</a></code>,
<code><a href="../reference/pick_psa.html">pick_psa()</a></code>, and <code><a href="../reference/create_indicators.html">create_indicators()</a></code>, so that
the model takes care of everything in terms of running a deterministic
analysis, DSA, PSA, probabilistic DSA, or scenario analyses.</p>
<p>We use <code>add_item</code> for all the examples below, in previous
versions of WARDEN we distinguished between add_item and add_item2, but
now the behavior has been integrated into a single function that can
handle both approaches of adding inputs.</p>
<div class="section level3">
<h3 id="in-a-nutshell">In a Nutshell<a class="anchor" aria-label="anchor" href="#in-a-nutshell"></a>
</h3>
<p>The key function is <code><a href="../reference/pick_val_v.html">pick_val_v()</a></code>. This function
essentially hides a loop, which iterates over each of the inputs and
depending on whether the parameter is a vector or single length, and
whether the PSA or scenario flags are active, proceeds to select the
right value. It also can consider multiple parameters being covaried at
the same time in a scenario or DSA analysis.</p>
<p>The <code><a href="../reference/pick_psa.html">pick_psa()</a></code> function is a wrapper that just calls the
corresponding function from its first argument, so it can be used to
draw from distributions. The recommendation is to use the “r” functions
like <code><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm()</a></code>, <code><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif()</a></code>, etc. The random seed is
handled automatically by the model to ensure that inputs are drawn
appropiately.</p>
<p>Finally, the <code><a href="../reference/create_indicators.html">create_indicators()</a></code> is a function that will
generate a vector of 0 and 1 and is used for scenario analyses and DSA,
as e.g., in a DSA we need to iterate over the corresponding
parameters.</p>
<p>We can start with a simple example, see the data below, where we have
a set of parameters, with some base case values, PSA parameters, DSA,
scenario, and whether the parameter would be active on a PSA (vector of
0 and 1s):</p>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
parameter_name
</th>
<th style="text-align:left;">
base_value
</th>
<th style="text-align:left;">
PSA_dist
</th>
<th style="text-align:left;">
a
</th>
<th style="text-align:left;">
b
</th>
<th style="text-align:left;">
n
</th>
<th style="text-align:left;">
DSA_min
</th>
<th style="text-align:left;">
DSA_max
</th>
<th style="text-align:left;">
scenario_1
</th>
<th style="text-align:left;">
scenario_2
</th>
<th style="text-align:left;">
psa_indicators
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
util.sick
</td>
<td style="text-align:left;">
0.8
</td>
<td style="text-align:left;">
rnorm
</td>
<td style="text-align:left;">
0.8
</td>
<td style="text-align:left;">
0.16
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
0.6
</td>
<td style="text-align:left;">
0.9
</td>
<td style="text-align:left;">
0.6
</td>
<td style="text-align:left;">
0.9
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
util.sicker
</td>
<td style="text-align:left;">
0.5
</td>
<td style="text-align:left;">
rbeta_mse
</td>
<td style="text-align:left;">
0.5
</td>
<td style="text-align:left;">
0.1
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
0.3
</td>
<td style="text-align:left;">
0.7
</td>
<td style="text-align:left;">
0.3
</td>
<td style="text-align:left;">
0.7
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cost.sick
</td>
<td style="text-align:left;">
3000
</td>
<td style="text-align:left;">
rgamma_mse
</td>
<td style="text-align:left;">
3000
</td>
<td style="text-align:left;">
600
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1000
</td>
<td style="text-align:left;">
5000
</td>
<td style="text-align:left;">
1000
</td>
<td style="text-align:left;">
5000
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cost.sicker
</td>
<td style="text-align:left;">
7000
</td>
<td style="text-align:left;">
rgamma_mse
</td>
<td style="text-align:left;">
7000
</td>
<td style="text-align:left;">
1400
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
5000
</td>
<td style="text-align:left;">
9000
</td>
<td style="text-align:left;">
5000
</td>
<td style="text-align:left;">
9000
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
cost.int
</td>
<td style="text-align:left;">
1000
</td>
<td style="text-align:left;">
rgamma_mse
</td>
<td style="text-align:left;">
1000
</td>
<td style="text-align:left;">
200
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
800
</td>
<td style="text-align:left;">
2000
</td>
<td style="text-align:left;">
800
</td>
<td style="text-align:left;">
2000
</td>
<td style="text-align:left;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
coef_noint
</td>
<td style="text-align:left;">
-1.6094379124341
</td>
<td style="text-align:left;">
rnorm
</td>
<td style="text-align:left;">
-1.6094379124341
</td>
<td style="text-align:left;">
0.32188758248682
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
-2.30258509299405
</td>
<td style="text-align:left;">
-0.916290731874155
</td>
<td style="text-align:left;">
-2.30258509299405
</td>
<td style="text-align:left;">
-0.916290731874155
</td>
<td style="text-align:left;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
HR_int
</td>
<td style="text-align:left;">
0.8
</td>
<td style="text-align:left;">
rlnorm
</td>
<td style="text-align:left;">
-0.22314355131421
</td>
<td style="text-align:left;">
0.0446287102628419
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
0.5
</td>
<td style="text-align:left;">
0.9
</td>
<td style="text-align:left;">
0.5
</td>
<td style="text-align:left;">
0.9
</td>
<td style="text-align:left;">
0
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="the-basic-setup">The basic setup<a class="anchor" aria-label="anchor" href="#the-basic-setup"></a>
</h3>
<p>We’ll build our case step by step. in <code><a href="../reference/pick_val_v.html">pick_val_v()</a></code>, we
need to set which values would be the base case (<code>base</code>), the
PSA (<code>psa</code>), and the sensitivity values (<code>sens</code>).
We also need to set whether we are currently in a PSA or not
(<code>psa_ind</code>), and whether we are in a sensitivity analysis
(<code>sens_ind</code>). Finally, we need to give some guidance if we
are in a sensitivity analysis on which parameters to vary at this
iteration (i.e., if it’s iterating over the minimum range of the DSA, is
it <code>util.sick</code>? is it <code>util.sicker</code>?) and to give
the names of the parameters to export the named list. The simplest case
is when we don’t have DSA or scenario analysis. In that case the
function is relatively straightforward.</p>
<p>We set our base case values, we set the PSA values using the
parameters in our data, indicate that we are indeed in a PSA analysis
and NOT in a scenario analysis (we could have both of them being
<code>TRUE</code>), we indicate that if it was a scenario analysis all
parameters would be included, and finally we indicate that for the PSA,
the first 4 will be included and the remaining 3 will not (defaulting to
the base values).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span>  <span class="fu"><a href="../reference/pick_val_v.html">pick_val_v</a></span><span class="op">(</span>base        <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"base_value"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>             psa         <span class="op">=</span> <span class="fu"><a href="../reference/pick_psa.html">pick_psa</a></span><span class="op">(</span></span>
<span>                 <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"PSA_dist"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                 <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"n"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                 <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>                 <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"b"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>             psa_ind     <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co">#PSA is active</span></span>
<span>             sens_ind    <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co">#No scenario analysis</span></span>
<span>             names_out   <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>             indicator   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span><span class="op">)</span>, <span class="co">#This is only relevant for scenario analysis, set to all 1s</span></span>
<span>             indicator_psa <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"psa_indicators"</span><span class="op">]</span><span class="op">]</span>,<span class="co">#vector of 4 1s and 3 0s.</span></span>
<span>             deploy_env <span class="op">=</span> <span class="cn">FALSE</span> </span>
<span>  <span class="op">)</span> </span>
<span><span class="co">#&gt; $util.sick</span></span>
<span><span class="co">#&gt; [1] 0.576</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $util.sicker</span></span>
<span><span class="co">#&gt; [1] 0.529</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cost.sick</span></span>
<span><span class="co">#&gt; [1] 1671</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cost.sicker</span></span>
<span><span class="co">#&gt; [1] 6114</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $cost.int</span></span>
<span><span class="co">#&gt; [1] 1000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $coef_noint</span></span>
<span><span class="co">#&gt; [1] -1.61</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $HR_int</span></span>
<span><span class="co">#&gt; [1] 0.8</span></span></code></pre></div>
<p>See below a more complex example, now including scenario
analyses/DSA, and letting the model handling more things
automatically.</p>
<p>Note that <code><a href="../reference/pick_val_v.html">pick_val_v()</a></code> has a few arguments set to
variables: <code>sens_name_used</code>, <code>psa_bool</code>,
<code>sensitivity_bool</code> and <code>indicators</code>. All except
<code>indicators</code> are set by the model automatically, and are
obtained from <code><a href="../reference/run_sim.html">run_sim()</a></code> (from
<code>sensitivity_names</code>, <code>psa_bool</code> and
<code>sensitivity_bool</code>, respectively).
<code>sens_name_used</code> is selected automatically by the model, so
for example if <code>sensitivity_names = "DSA_min", "DSA_max"</code>,
the model automatically knows which one is currently active, so it will
start with <code>"DSA_min"</code>, and once it has iterated through all
the relevant parameters, it will go to <code>"DSA_max"</code>.
<code>psa_bool</code> and <code>sensitivity_bool</code> are boolean
flags for whether the current analysis is deterministic/probabilistic
and standard/scenario(or DSA). Since in this example we are not using
<code>run_sim</code>, we are setting this in advance.</p>
<p><code>indicators</code> is an object that we need to set when we are
setting our inputs with <code><a href="../reference/add_item.html">add_item()</a></code>, and it will be used
only for scenario/DSA analyses (so when
<code>send_ind = sensitivity_bool = TRUE</code>). In this case, we set
it to all 1s (with length equal to the number of vectors) whenever we
are not in a scenario analysis, and otherwise we use the
<code>create_indicators</code> function that takes a few extra
arguments.</p>
<p><code><a href="../reference/create_indicators.html">create_indicators()</a></code> creates a vector of 0 and 1s, taking
value 1 at the right index that is going to be varied. It takes a few
extra objects that are given automatically by the model:
<code>sens</code>, <code>n_sensitivity</code>, and
<code>sensitivity_names</code>. <code>sensitivity_names</code> comes
from <code>run_sim</code> as mentioned above, and
<code>n_sensitivity</code> also must be declared in
<code>run_sim</code>, and is the number of parameters to be varied, in
this case, 7). <code>sens</code> is the index of the analysis currently
being run, in this case we assume we start with the first index so it
will return a vector of 1 followed by 6 0s.</p>
<p>Note that we do not necessarily have to use the
<code>indicator_psa</code> argument of <code><a href="../reference/pick_val_v.html">pick_val_v()</a></code>. If
left as is, it will understand that all parameters would be included in
the PSA. If not, we would need to provide that argument declaring which
parameters are excluded or included (vector of 0 and 1s).</p>
<p>To recap: in this case, we artificially set some key variables
beforehand, and then we execute the <code><a href="../reference/pick_val_v.html">pick_val_v()</a></code> function.
We first run it as a deterministic analysis.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">sens</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">n_sensitivity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">sensitivity_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DSA_min"</span>, <span class="st">"DSA_max"</span><span class="op">)</span></span>
<span><span class="co">#Vector of length 7, a 1 followed by 6 0s, if sens was 2 it would be a c(0,1,0,0,0,0,0) vector </span></span>
<span><span class="fu"><a href="../reference/create_indicators.html">create_indicators</a></span><span class="op">(</span><span class="va">sens</span>,<span class="va">n_sensitivity</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">sensitivity_names</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 0 0 0 0 0 0</span></span>
<span></span>
<span><span class="va">sens_name_used</span> <span class="op">&lt;-</span> <span class="st">"DSA_min"</span></span>
<span><span class="va">psa_bool</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span><span class="va">sensitivity_bool</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span></span>
<span><span class="co">#deterministic</span></span>
<span><span class="va">indicators</span> <span class="op">&lt;-</span>  <span class="kw">if</span><span class="op">(</span><span class="va">sensitivity_bool</span><span class="op">)</span><span class="op">{</span> <span class="fu"><a href="../reference/create_indicators.html">create_indicators</a></span><span class="op">(</span><span class="va">sens</span>,<span class="va">n_sensitivity</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">sensitivity_names</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">}</span><span class="kw">else</span><span class="op">{</span></span>
<span>                                <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">}</span> </span>
<span></span>
<span><span class="co">#DETERMINISTIC</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/pick_val_v.html">pick_val_v</a></span><span class="op">(</span>base        <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"base_value"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>           psa         <span class="op">=</span> <span class="fu"><a href="../reference/pick_psa.html">pick_psa</a></span><span class="op">(</span></span>
<span>             <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"PSA_dist"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>             <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"n"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>             <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>             <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"b"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>           sens        <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="va">sens_name_used</span><span class="op">]</span><span class="op">]</span>, <span class="co">#e.g., sens_name_used = "DSA_min"</span></span>
<span>           psa_ind     <span class="op">=</span> <span class="va">psa_bool</span>, <span class="co">#FALSE</span></span>
<span>           sens_ind    <span class="op">=</span> <span class="va">sensitivity_bool</span>, <span class="co">#FALSE</span></span>
<span>           indicator   <span class="op">=</span> <span class="va">indicators</span>, <span class="co">#all 1s, or a vector of 1 1 and the rest 0s.</span></span>
<span>           names_out   <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>           indicator_psa <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"psa_indicators"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>           deploy_env <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>           <span class="op">)</span></span>
<span><span class="op">)</span> </span>
<span><span class="co">#&gt;   util.sick util.sicker cost.sick cost.sicker cost.int coef_noint HR_int</span></span>
<span><span class="co">#&gt; 1       0.8         0.5      3000        7000     1000      -1.61    0.8</span></span></code></pre></div>
<p>Now it’s very easy to switch to probabilistic analysis.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#PSA</span></span>
<span><span class="va">psa_bool</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/pick_val_v.html">pick_val_v</a></span><span class="op">(</span>base        <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"base_value"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>           psa         <span class="op">=</span> <span class="fu"><a href="../reference/pick_psa.html">pick_psa</a></span><span class="op">(</span></span>
<span>             <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"PSA_dist"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>             <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"n"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>             <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>             <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"b"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>           sens        <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="va">sens_name_used</span><span class="op">]</span><span class="op">]</span>, <span class="co">#e.g., sens_name_used = "DSA_min"</span></span>
<span>           psa_ind     <span class="op">=</span> <span class="va">psa_bool</span>, <span class="co">#FALSE</span></span>
<span>           sens_ind    <span class="op">=</span> <span class="va">sensitivity_bool</span>, <span class="co">#FALSE</span></span>
<span>           indicator   <span class="op">=</span> <span class="va">indicators</span>, <span class="co">#all 1s, or a vector of 1 1 and the rest 0s.</span></span>
<span>           names_out   <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>           indicator_psa <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"psa_indicators"</span><span class="op">]</span><span class="op">]</span> ,</span>
<span>           deploy_env <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>           <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;   util.sick util.sicker cost.sick cost.sicker cost.int coef_noint HR_int</span></span>
<span><span class="co">#&gt; 1     0.761       0.467      2620        5725     1000      -1.61    0.8</span></span></code></pre></div>
<p>And it’s very easy to switch to probabilistic scenario analysis.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Probabilistic DSA, first parameter being varied as sens = 1</span></span>
<span><span class="va">psa_bool</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span><span class="va">sensitivity_bool</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span><span class="va">indicators</span> <span class="op">&lt;-</span>  <span class="kw">if</span><span class="op">(</span><span class="va">sensitivity_bool</span><span class="op">)</span><span class="op">{</span> <span class="fu"><a href="../reference/create_indicators.html">create_indicators</a></span><span class="op">(</span><span class="va">sens</span>,<span class="va">n_sensitivity</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">sensitivity_names</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">}</span><span class="kw">else</span><span class="op">{</span></span>
<span>                                <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">}</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/pick_val_v.html">pick_val_v</a></span><span class="op">(</span>base        <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"base_value"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>           psa         <span class="op">=</span> <span class="fu"><a href="../reference/pick_psa.html">pick_psa</a></span><span class="op">(</span></span>
<span>             <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"PSA_dist"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>             <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"n"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>             <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>             <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"b"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>           sens        <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="va">sens_name_used</span><span class="op">]</span><span class="op">]</span>, <span class="co">#e.g., sens_name_used = "DSA_min"</span></span>
<span>           psa_ind     <span class="op">=</span> <span class="va">psa_bool</span>, <span class="co">#FALSE</span></span>
<span>           sens_ind    <span class="op">=</span> <span class="va">sensitivity_bool</span>, <span class="co">#FALSE</span></span>
<span>           indicator   <span class="op">=</span> <span class="va">indicators</span>, <span class="co">#all 1s, or a vector of 1 1 and the rest 0s.</span></span>
<span>           names_out   <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>           indicator_psa <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"psa_indicators"</span><span class="op">]</span><span class="op">]</span> ,</span>
<span>           deploy_env <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>           <span class="op">)</span></span>
<span><span class="op">)</span> </span>
<span><span class="co">#&gt;   util.sick util.sicker cost.sick cost.sicker cost.int coef_noint HR_int</span></span>
<span><span class="co">#&gt; 1       0.6        0.48      3989        5818     1000      -1.61    0.8</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="integrating-into-a-model">Integrating into a model<a class="anchor" aria-label="anchor" href="#integrating-into-a-model"></a>
</h3>
<p>We now use this setup in a very simple model, where we run a
deterministic, probabilistic, probabilistic DSA and deterministic
scenario analysis. Note that the <code>sens</code> iterator needs to be
adjusted, as it just measures the total number of sensitivity
iterations. If we have 2 sensitivities with 7 parameters each, sens will
go from 1 to 14. As we have only 7 parameters, we need to create the
<code>iterator_sensitivity</code> variable to “reset” the index back to
1, 2, 3… when it goes over 7, so that covers DSA_min and DSA_max, and
for that we simply use the <code>sens_iterator</code> function.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">sens</span>, <span class="va">sens_name_used</span>, <span class="va">sensitivity_bool</span>, <span class="va">psa_bool</span><span class="op">)</span> <span class="co">#remove global objects that may confuse program</span></span>
<span></span>
<span><span class="va">i_sensitivity</span> <span class="op">&lt;-</span><span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span></span>
<span>  iterator_sensitivity <span class="op">=</span> <span class="fu"><a href="../reference/sens_iterator.html">sens_iterator</a></span><span class="op">(</span><span class="va">sens</span>,<span class="va">n_sensitivity</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span><span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span></span>
<span>            indicators <span class="op">=</span> <span class="kw">if</span><span class="op">(</span><span class="va">sensitivity_bool</span>  <span class="op">&amp;</span> <span class="va">sens_name_used</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DSA_min"</span>, <span class="st">"DSA_max"</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>  <span class="fu"><a href="../reference/create_indicators.html">create_indicators</a></span><span class="op">(</span><span class="va">iterator_sensitivity</span>,<span class="va">n_sensitivity</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">sensitivity_names</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co">#only for DSA we use this approach</span></span>
<span>              <span class="op">}</span><span class="kw">else</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">}</span></span>
<span>                              <span class="op">)</span> </span>
<span></span>
<span><span class="va">i_simple</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/pick_val_v.html">pick_val_v</a></span><span class="op">(</span></span>
<span>      base <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"base_value"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>      psa <span class="op">=</span> <span class="fu"><a href="../reference/pick_psa.html">pick_psa</a></span><span class="op">(</span></span>
<span>        <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"PSA_dist"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"n"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"b"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>      sens          <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="va">sens_name_used</span><span class="op">]</span><span class="op">]</span>, <span class="co">#e.g., sens_name_used = "DSA_min"</span></span>
<span>      psa_ind       <span class="op">=</span> <span class="va">psa_bool</span>, <span class="co">#FALSE</span></span>
<span>      sens_ind      <span class="op">=</span> <span class="va">sensitivity_bool</span>, <span class="co">#FALSE</span></span>
<span>      indicator     <span class="op">=</span> <span class="va">indicators</span>, <span class="co">#all 1s, or a vector of 1 1 and the rest 0s.</span></span>
<span>      names_out     <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>      indicator_psa <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"psa_indicators"</span><span class="op">]</span><span class="op">]</span> </span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span>  <span class="va">i_arm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span>q_default <span class="op">=</span> <span class="va">util.sick</span>,</span>
<span>           c_default <span class="op">=</span> <span class="va">cost.sick</span> <span class="op">+</span> <span class="kw">if</span><span class="op">(</span><span class="va">arm</span><span class="op">==</span><span class="st">"int"</span><span class="op">)</span><span class="op">{</span><span class="va">cost.int</span><span class="op">}</span><span class="kw">else</span><span class="op">{</span><span class="fl">0</span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">init_event_list</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/add_tte.html">add_tte</a></span><span class="op">(</span>arm<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"noint"</span>,<span class="st">"int"</span><span class="op">)</span>, evts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a1"</span>,<span class="st">"b1"</span><span class="op">)</span> ,input<span class="op">=</span><span class="op">{</span></span>
<span>    <span class="va">a1</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span>    <span class="va">b1</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">evt_react_list</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/add_reactevt.html">add_reactevt</a></span><span class="op">(</span>name_evt <span class="op">=</span> <span class="st">"a1"</span>,</span>
<span>               input <span class="op">=</span> <span class="op">{</span><span class="op">}</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_reactevt.html">add_reactevt</a></span><span class="op">(</span>name_evt <span class="op">=</span> <span class="st">"b1"</span>,</span>
<span>               input <span class="op">=</span> <span class="op">{</span></span>
<span>                 <span class="va">q_default</span> <span class="op">=</span> <span class="fl">0</span></span>
<span>                 <span class="va">c_default</span> <span class="op">=</span> <span class="fl">0</span> </span>
<span>                 <span class="va">curtime</span> <span class="op">=</span> <span class="cn">Inf</span></span>
<span>               <span class="op">}</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">util_ongoing</span> <span class="op">&lt;-</span> <span class="st">"q_default"</span></span>
<span><span class="va">cost_ongoing</span> <span class="op">&lt;-</span> <span class="st">"c_default"</span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_sim.html">run_sim</a></span><span class="op">(</span>  </span>
<span>  npats<span class="op">=</span><span class="fl">5</span>,                               </span>
<span>  n_sim<span class="op">=</span><span class="fl">1</span>,                                  </span>
<span>  psa_bool <span class="op">=</span> <span class="cn">FALSE</span>,                        </span>
<span>  arm_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"int"</span>, <span class="st">"noint"</span><span class="op">)</span>,             </span>
<span>  common_all_inputs <span class="op">=</span> <span class="va">i_simple</span>,</span>
<span>  unique_pt_inputs  <span class="op">=</span> <span class="va">i_arm</span>,</span>
<span>  init_event_list <span class="op">=</span> <span class="va">init_event_list</span>,        </span>
<span>  evt_react_list <span class="op">=</span> <span class="va">evt_react_list</span>,          </span>
<span>  util_ongoing_list <span class="op">=</span> <span class="va">util_ongoing</span>,</span>
<span>  cost_ongoing_list <span class="op">=</span> <span class="va">cost_ongoing</span>,</span>
<span>  ipd <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Analysis number: 1</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 1: 0.06s</span></span>
<span><span class="co">#&gt; Total time to run: 0.06s</span></span>
<span><span class="co">#&gt; Simulation finalized;</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary_results_sim.html">summary_results_sim</a></span><span class="op">(</span><span class="va">results</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span>bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
int
</th>
<th style="text-align:left;">
noint
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
costs
</td>
<td style="text-align:left;">
7,768 (7,768; 7,768)
</td>
<td style="text-align:left;">
5,826 (5,826; 5,826)
</td>
</tr>
<tr>
<td style="text-align:left;">
dcosts
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
1,942 (1,942; 1,942)
</td>
</tr>
<tr>
<td style="text-align:left;">
lys
</td>
<td style="text-align:left;">
1.94 (1.94; 1.94)
</td>
<td style="text-align:left;">
1.94 (1.94; 1.94)
</td>
</tr>
<tr>
<td style="text-align:left;">
dlys
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
</tr>
<tr>
<td style="text-align:left;">
qalys
</td>
<td style="text-align:left;">
1.55 (1.55; 1.55)
</td>
<td style="text-align:left;">
1.55 (1.55; 1.55)
</td>
</tr>
<tr>
<td style="text-align:left;">
dqalys
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
</tr>
<tr>
<td style="text-align:left;">
ICER
</td>
<td style="text-align:left;">
NaN (NA; NA)
</td>
<td style="text-align:left;">
Inf (Inf; Inf)
</td>
</tr>
<tr>
<td style="text-align:left;">
ICUR
</td>
<td style="text-align:left;">
NaN (NA; NA)
</td>
<td style="text-align:left;">
Inf (Inf; Inf)
</td>
</tr>
<tr>
<td style="text-align:left;">
INMB
</td>
<td style="text-align:left;">
NaN (NA; NA)
</td>
<td style="text-align:left;">
-1,942 (-1,942; -1,942)
</td>
</tr>
<tr>
<td style="text-align:left;">
costs_undisc
</td>
<td style="text-align:left;">
8,000 (8,000; 8,000)
</td>
<td style="text-align:left;">
6,000 (6,000; 6,000)
</td>
</tr>
<tr>
<td style="text-align:left;">
dcosts_undisc
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
2,000 (2,000; 2,000)
</td>
</tr>
<tr>
<td style="text-align:left;">
lys_undisc
</td>
<td style="text-align:left;">
2 (2; 2)
</td>
<td style="text-align:left;">
2 (2; 2)
</td>
</tr>
<tr>
<td style="text-align:left;">
dlys_undisc
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
</tr>
<tr>
<td style="text-align:left;">
qalys_undisc
</td>
<td style="text-align:left;">
1.6 (1.6; 1.6)
</td>
<td style="text-align:left;">
1.6 (1.6; 1.6)
</td>
</tr>
<tr>
<td style="text-align:left;">
dqalys_undisc
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
</tr>
<tr>
<td style="text-align:left;">
ICER_undisc
</td>
<td style="text-align:left;">
NaN (NA; NA)
</td>
<td style="text-align:left;">
Inf (Inf; Inf)
</td>
</tr>
<tr>
<td style="text-align:left;">
ICUR_undisc
</td>
<td style="text-align:left;">
NaN (NA; NA)
</td>
<td style="text-align:left;">
Inf (Inf; Inf)
</td>
</tr>
<tr>
<td style="text-align:left;">
INMB_undisc
</td>
<td style="text-align:left;">
NaN (NA; NA)
</td>
<td style="text-align:left;">
-2,000 (-2,000; -2,000)
</td>
</tr>
<tr>
<td style="text-align:left;">
c_default
</td>
<td style="text-align:left;">
7,768 (7,768; 7,768)
</td>
<td style="text-align:left;">
5,826 (5,826; 5,826)
</td>
</tr>
<tr>
<td style="text-align:left;">
dc_default
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
1,942 (1,942; 1,942)
</td>
</tr>
<tr>
<td style="text-align:left;">
c_default_undisc
</td>
<td style="text-align:left;">
8,000 (8,000; 8,000)
</td>
<td style="text-align:left;">
6,000 (6,000; 6,000)
</td>
</tr>
<tr>
<td style="text-align:left;">
dc_default_undisc
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
2,000 (2,000; 2,000)
</td>
</tr>
<tr>
<td style="text-align:left;">
q_default
</td>
<td style="text-align:left;">
1.55 (1.55; 1.55)
</td>
<td style="text-align:left;">
1.55 (1.55; 1.55)
</td>
</tr>
<tr>
<td style="text-align:left;">
dq_default
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
</tr>
<tr>
<td style="text-align:left;">
q_default_undisc
</td>
<td style="text-align:left;">
1.6 (1.6; 1.6)
</td>
<td style="text-align:left;">
1.6 (1.6; 1.6)
</td>
</tr>
<tr>
<td style="text-align:left;">
dq_default_undisc
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_sim.html">run_sim</a></span><span class="op">(</span>  </span>
<span>  npats<span class="op">=</span><span class="fl">5</span>,                              </span>
<span>  n_sim<span class="op">=</span><span class="fl">2</span>,                                  </span>
<span>  psa_bool <span class="op">=</span> <span class="cn">TRUE</span>,                         </span>
<span>  arm_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"int"</span>, <span class="st">"noint"</span><span class="op">)</span>,             </span>
<span>  common_all_inputs <span class="op">=</span> <span class="va">i_simple</span>,</span>
<span>  unique_pt_inputs  <span class="op">=</span> <span class="va">i_arm</span>,</span>
<span>  init_event_list <span class="op">=</span> <span class="va">init_event_list</span>,        </span>
<span>  evt_react_list <span class="op">=</span> <span class="va">evt_react_list</span>,         </span>
<span>  util_ongoing_list <span class="op">=</span> <span class="va">util_ongoing</span>,</span>
<span>  cost_ongoing_list <span class="op">=</span> <span class="va">cost_ongoing</span>,</span>
<span>  ipd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  sensitivity_inputs <span class="op">=</span> <span class="va">i_sensitivity</span>, <span class="co">#this argument can also be removed since it's not used</span></span>
<span>  sensitivity_names <span class="op">=</span> <span class="cn">NULL</span>,           <span class="co">#this argument can also be removed since it's not used</span></span>
<span>  sensitivity_bool <span class="op">=</span> <span class="cn">FALSE</span>,           <span class="co">#this argument can also be removed since it's not used</span></span>
<span>  n_sensitivity <span class="op">=</span> <span class="fl">1</span>                   <span class="co">#this argument can also be removed since it's not used</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Analysis number: 1</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.05s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.05s</span></span>
<span><span class="co">#&gt; Time to run analysis 1: 0.1s</span></span>
<span><span class="co">#&gt; Total time to run: 0.1s</span></span>
<span><span class="co">#&gt; Simulation finalized;</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary_results_sim.html">summary_results_sim</a></span><span class="op">(</span><span class="va">results</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span>bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
int
</th>
<th style="text-align:left;">
noint
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
costs
</td>
<td style="text-align:left;">
9,783 (7,895; 11,671)
</td>
<td style="text-align:left;">
7,841 (5,953; 9,729)
</td>
</tr>
<tr>
<td style="text-align:left;">
dcosts
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
1,942 (1,942; 1,942)
</td>
</tr>
<tr>
<td style="text-align:left;">
lys
</td>
<td style="text-align:left;">
1.94 (1.94; 1.94)
</td>
<td style="text-align:left;">
1.94 (1.94; 1.94)
</td>
</tr>
<tr>
<td style="text-align:left;">
dlys
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
</tr>
<tr>
<td style="text-align:left;">
qalys
</td>
<td style="text-align:left;">
1.16 (1.02; 1.29)
</td>
<td style="text-align:left;">
1.16 (1.02; 1.29)
</td>
</tr>
<tr>
<td style="text-align:left;">
dqalys
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
</tr>
<tr>
<td style="text-align:left;">
ICER
</td>
<td style="text-align:left;">
NaN (NA; NA)
</td>
<td style="text-align:left;">
Inf (Inf; Inf)
</td>
</tr>
<tr>
<td style="text-align:left;">
ICUR
</td>
<td style="text-align:left;">
NaN (NA; NA)
</td>
<td style="text-align:left;">
Inf (Inf; Inf)
</td>
</tr>
<tr>
<td style="text-align:left;">
INMB
</td>
<td style="text-align:left;">
NaN (NA; NA)
</td>
<td style="text-align:left;">
-1,942 (-1,942; -1,942)
</td>
</tr>
<tr>
<td style="text-align:left;">
costs_undisc
</td>
<td style="text-align:left;">
10,075 (8,131; 12,020)
</td>
<td style="text-align:left;">
8,075 (6,131; 10,020)
</td>
</tr>
<tr>
<td style="text-align:left;">
dcosts_undisc
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
2,000 (2,000; 2,000)
</td>
</tr>
<tr>
<td style="text-align:left;">
lys_undisc
</td>
<td style="text-align:left;">
2 (2; 2)
</td>
<td style="text-align:left;">
2 (2; 2)
</td>
</tr>
<tr>
<td style="text-align:left;">
dlys_undisc
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
</tr>
<tr>
<td style="text-align:left;">
qalys_undisc
</td>
<td style="text-align:left;">
1.19 (1.06; 1.33)
</td>
<td style="text-align:left;">
1.19 (1.06; 1.33)
</td>
</tr>
<tr>
<td style="text-align:left;">
dqalys_undisc
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
</tr>
<tr>
<td style="text-align:left;">
ICER_undisc
</td>
<td style="text-align:left;">
NaN (NA; NA)
</td>
<td style="text-align:left;">
Inf (Inf; Inf)
</td>
</tr>
<tr>
<td style="text-align:left;">
ICUR_undisc
</td>
<td style="text-align:left;">
NaN (NA; NA)
</td>
<td style="text-align:left;">
Inf (Inf; Inf)
</td>
</tr>
<tr>
<td style="text-align:left;">
INMB_undisc
</td>
<td style="text-align:left;">
NaN (NA; NA)
</td>
<td style="text-align:left;">
-2,000 (-2,000; -2,000)
</td>
</tr>
<tr>
<td style="text-align:left;">
c_default
</td>
<td style="text-align:left;">
9,783 (7,895; 11,671)
</td>
<td style="text-align:left;">
7,841 (5,953; 9,729)
</td>
</tr>
<tr>
<td style="text-align:left;">
dc_default
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
1,942 (1,942; 1,942)
</td>
</tr>
<tr>
<td style="text-align:left;">
c_default_undisc
</td>
<td style="text-align:left;">
10,075 (8,131; 12,020)
</td>
<td style="text-align:left;">
8,075 (6,131; 10,020)
</td>
</tr>
<tr>
<td style="text-align:left;">
dc_default_undisc
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
2,000 (2,000; 2,000)
</td>
</tr>
<tr>
<td style="text-align:left;">
q_default
</td>
<td style="text-align:left;">
1.16 (1.02; 1.29)
</td>
<td style="text-align:left;">
1.16 (1.02; 1.29)
</td>
</tr>
<tr>
<td style="text-align:left;">
dq_default
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
</tr>
<tr>
<td style="text-align:left;">
q_default_undisc
</td>
<td style="text-align:left;">
1.19 (1.06; 1.33)
</td>
<td style="text-align:left;">
1.19 (1.06; 1.33)
</td>
</tr>
<tr>
<td style="text-align:left;">
dq_default_undisc
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
<td style="text-align:left;">
0 (0; 0)
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#DSA analyses, we set n_sensitivity to 7 as we need to iterate over all the parameters</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_sim.html">run_sim</a></span><span class="op">(</span>  </span>
<span>  npats<span class="op">=</span><span class="fl">5</span>,                               </span>
<span>  n_sim<span class="op">=</span><span class="fl">2</span>,                                 </span>
<span>  psa_bool <span class="op">=</span> <span class="cn">TRUE</span>,                        </span>
<span>  arm_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"int"</span>, <span class="st">"noint"</span><span class="op">)</span>,             </span>
<span>  common_all_inputs <span class="op">=</span> <span class="va">i_simple</span>,</span>
<span>  unique_pt_inputs  <span class="op">=</span> <span class="va">i_arm</span>,</span>
<span>  init_event_list <span class="op">=</span> <span class="va">init_event_list</span>,       </span>
<span>  evt_react_list <span class="op">=</span> <span class="va">evt_react_list</span>,         </span>
<span>  util_ongoing_list <span class="op">=</span> <span class="va">util_ongoing</span>,</span>
<span>  cost_ongoing_list <span class="op">=</span> <span class="va">cost_ongoing</span>,</span>
<span>  ipd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  sensitivity_inputs <span class="op">=</span> <span class="va">i_sensitivity</span>,</span>
<span>  sensitivity_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DSA_min"</span>,<span class="st">"DSA_max"</span><span class="op">)</span>,</span>
<span>  sensitivity_bool <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_sensitivity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, <span class="co">#7 parameters</span></span>
<span>  input_out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> </span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Analysis number: 1</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.07s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 1: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 2</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 2: 0.11s</span></span>
<span><span class="co">#&gt; Analysis number: 3</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 3: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 4</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 4: 0.11s</span></span>
<span><span class="co">#&gt; Analysis number: 5</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.05s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.05s</span></span>
<span><span class="co">#&gt; Time to run analysis 5: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 6</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.05s</span></span>
<span><span class="co">#&gt; Time to run analysis 6: 0.11s</span></span>
<span><span class="co">#&gt; Analysis number: 7</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 7: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 8</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 8: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 9</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.05s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 9: 0.11s</span></span>
<span><span class="co">#&gt; Analysis number: 10</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 10: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 11</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 11: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 12</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 12: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 13</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.05s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 13: 0.11s</span></span>
<span><span class="co">#&gt; Analysis number: 14</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 14: 0.12s</span></span>
<span><span class="co">#&gt; Total time to run: 1.65s</span></span>
<span><span class="co">#&gt; Simulation finalized;</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary_results_sens.html">summary_results_sens</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt;          arm analysis analysis_name     variable                 value</span></span>
<span><span class="co">#&gt;       &lt;char&gt;    &lt;int&gt;        &lt;char&gt;       &lt;fctr&gt;                &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1:    int        1       DSA_min        costs 9,783 (7,895; 11,671)</span></span>
<span><span class="co">#&gt;    2:  noint        1       DSA_min        costs  7,841 (5,953; 9,729)</span></span>
<span><span class="co">#&gt;    3:    int        2       DSA_min        costs 9,783 (7,895; 11,671)</span></span>
<span><span class="co">#&gt;    4:  noint        2       DSA_min        costs  7,841 (5,953; 9,729)</span></span>
<span><span class="co">#&gt;    5:    int        3       DSA_min        costs  3,884 (3,884; 3,884)</span></span>
<span><span class="co">#&gt;   ---                                                                 </span></span>
<span><span class="co">#&gt; 1116:  noint       12       DSA_max dutil.sicker              0 (0; 0)</span></span>
<span><span class="co">#&gt; 1117:    int       13       DSA_max dutil.sicker              0 (0; 0)</span></span>
<span><span class="co">#&gt; 1118:  noint       13       DSA_max dutil.sicker              0 (0; 0)</span></span>
<span><span class="co">#&gt; 1119:    int       14       DSA_max dutil.sicker              0 (0; 0)</span></span>
<span><span class="co">#&gt; 1120:  noint       14       DSA_max dutil.sicker              0 (0; 0)</span></span>
<span></span>
<span><span class="va">data_sensitivity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_depth.html" class="external-link">map_depth</a></span><span class="op">(</span><span class="va">results</span>,<span class="fl">2</span>, <span class="st">"merged_df"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data_sensitivity</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sensitivity</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise_all.html" class="external-link">summarise_at</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"util.sick"</span>,<span class="st">"util.sicker"</span>,<span class="st">"cost.sick"</span>,<span class="st">"cost.sicker"</span>,<span class="st">"cost.int"</span>,<span class="st">"coef_noint"</span>,<span class="st">"HR_int"</span><span class="op">)</span>,<span class="va">mean</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span>bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
sensitivity
</th>
<th style="text-align:right;">
util.sick
</th>
<th style="text-align:right;">
util.sicker
</th>
<th style="text-align:right;">
cost.sick
</th>
<th style="text-align:right;">
cost.sicker
</th>
<th style="text-align:right;">
cost.int
</th>
<th style="text-align:right;">
coef_noint
</th>
<th style="text-align:right;">
HR_int
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.600
</td>
<td style="text-align:right;">
0.554
</td>
<td style="text-align:right;">
4038
</td>
<td style="text-align:right;">
8633
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.597
</td>
<td style="text-align:right;">
0.300
</td>
<td style="text-align:right;">
4038
</td>
<td style="text-align:right;">
8633
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.597
</td>
<td style="text-align:right;">
0.554
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
8633
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.597
</td>
<td style="text-align:right;">
0.554
</td>
<td style="text-align:right;">
4038
</td>
<td style="text-align:right;">
5000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.597
</td>
<td style="text-align:right;">
0.554
</td>
<td style="text-align:right;">
4038
</td>
<td style="text-align:right;">
8633
</td>
<td style="text-align:right;">
800
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.597
</td>
<td style="text-align:right;">
0.554
</td>
<td style="text-align:right;">
4038
</td>
<td style="text-align:right;">
8633
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-2.303
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.597
</td>
<td style="text-align:right;">
0.554
</td>
<td style="text-align:right;">
4038
</td>
<td style="text-align:right;">
8633
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.5
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0.900
</td>
<td style="text-align:right;">
0.554
</td>
<td style="text-align:right;">
4038
</td>
<td style="text-align:right;">
8633
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0.597
</td>
<td style="text-align:right;">
0.700
</td>
<td style="text-align:right;">
4038
</td>
<td style="text-align:right;">
8633
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0.597
</td>
<td style="text-align:right;">
0.554
</td>
<td style="text-align:right;">
5000
</td>
<td style="text-align:right;">
8633
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
0.597
</td>
<td style="text-align:right;">
0.554
</td>
<td style="text-align:right;">
4038
</td>
<td style="text-align:right;">
9000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
0.597
</td>
<td style="text-align:right;">
0.554
</td>
<td style="text-align:right;">
4038
</td>
<td style="text-align:right;">
8633
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
0.597
</td>
<td style="text-align:right;">
0.554
</td>
<td style="text-align:right;">
4038
</td>
<td style="text-align:right;">
8633
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-0.916
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
0.597
</td>
<td style="text-align:right;">
0.554
</td>
<td style="text-align:right;">
4038
</td>
<td style="text-align:right;">
8633
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Scenario analyses, we set n_sensitivity to 1 as we don't have to iterate over all parameters, each scenario is run only once</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_sim.html">run_sim</a></span><span class="op">(</span>  </span>
<span>  npats<span class="op">=</span><span class="fl">5</span>,                               </span>
<span>  n_sim<span class="op">=</span><span class="fl">2</span>,                                 </span>
<span>  psa_bool <span class="op">=</span> <span class="cn">TRUE</span>,                        </span>
<span>  arm_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"int"</span>, <span class="st">"noint"</span><span class="op">)</span>,             </span>
<span>  common_all_inputs <span class="op">=</span> <span class="va">i_simple</span>,</span>
<span>  unique_pt_inputs  <span class="op">=</span> <span class="va">i_arm</span>,</span>
<span>  init_event_list <span class="op">=</span> <span class="va">init_event_list</span>,       </span>
<span>  evt_react_list <span class="op">=</span> <span class="va">evt_react_list</span>,         </span>
<span>  util_ongoing_list <span class="op">=</span> <span class="va">util_ongoing</span>,</span>
<span>  cost_ongoing_list <span class="op">=</span> <span class="va">cost_ongoing</span>,</span>
<span>  ipd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  sensitivity_inputs <span class="op">=</span> <span class="va">i_sensitivity</span>,</span>
<span>  sensitivity_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"scenario_1"</span>,<span class="st">"scenario_2"</span><span class="op">)</span>,</span>
<span>  sensitivity_bool <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_sensitivity <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  input_out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Analysis number: 1</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 1: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 2</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 2: 0.12s</span></span>
<span><span class="co">#&gt; Total time to run: 0.24s</span></span>
<span><span class="co">#&gt; Simulation finalized;</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary_results_sens.html">summary_results_sens</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt;         arm analysis analysis_name     variable                   value</span></span>
<span><span class="co">#&gt;      &lt;char&gt;    &lt;int&gt;        &lt;char&gt;       &lt;fctr&gt;                  &lt;char&gt;</span></span>
<span><span class="co">#&gt;   1:    int        1    scenario_1        costs    3,496 (3,496; 3,496)</span></span>
<span><span class="co">#&gt;   2:  noint        1    scenario_1        costs    1,942 (1,942; 1,942)</span></span>
<span><span class="co">#&gt;   3:    int        2    scenario_2        costs 13,594 (13,594; 13,594)</span></span>
<span><span class="co">#&gt;   4:  noint        2    scenario_2        costs    9,710 (9,710; 9,710)</span></span>
<span><span class="co">#&gt;   5:    int        1    scenario_1       dcosts                0 (0; 0)</span></span>
<span><span class="co">#&gt;  ---                                                                   </span></span>
<span><span class="co">#&gt; 156:  noint        2    scenario_2  util.sicker          0.7 (0.7; 0.7)</span></span>
<span><span class="co">#&gt; 157:    int        1    scenario_1 dutil.sicker                0 (0; 0)</span></span>
<span><span class="co">#&gt; 158:  noint        1    scenario_1 dutil.sicker                0 (0; 0)</span></span>
<span><span class="co">#&gt; 159:    int        2    scenario_2 dutil.sicker                0 (0; 0)</span></span>
<span><span class="co">#&gt; 160:  noint        2    scenario_2 dutil.sicker                0 (0; 0)</span></span>
<span></span>
<span><span class="va">data_sensitivity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_depth.html" class="external-link">map_depth</a></span><span class="op">(</span><span class="va">results</span>,<span class="fl">2</span>, <span class="st">"merged_df"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">data_sensitivity</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sensitivity</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise_all.html" class="external-link">summarise_at</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"util.sick"</span>,<span class="st">"util.sicker"</span>,<span class="st">"cost.sick"</span>,<span class="st">"cost.sicker"</span>,<span class="st">"cost.int"</span>,<span class="st">"coef_noint"</span>,<span class="st">"HR_int"</span><span class="op">)</span>,<span class="va">mean</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span>bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
sensitivity
</th>
<th style="text-align:right;">
util.sick
</th>
<th style="text-align:right;">
util.sicker
</th>
<th style="text-align:right;">
cost.sick
</th>
<th style="text-align:right;">
cost.sicker
</th>
<th style="text-align:right;">
cost.int
</th>
<th style="text-align:right;">
coef_noint
</th>
<th style="text-align:right;">
HR_int
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
5000
</td>
<td style="text-align:right;">
800
</td>
<td style="text-align:right;">
-2.303
</td>
<td style="text-align:right;">
0.5
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.9
</td>
<td style="text-align:right;">
0.7
</td>
<td style="text-align:right;">
5000
</td>
<td style="text-align:right;">
9000
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
-0.916
</td>
<td style="text-align:right;">
0.9
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="parameters-spread-across-different-levels">Parameters spread across different levels<a class="anchor" aria-label="anchor" href="#parameters-spread-across-different-levels"></a>
</h3>
<p>What happens when we have inputs not only at a single level (e.g.,
patient level), but also at simulation, patient, arm, etc levels? In
that case, we can still use <code><a href="../reference/pick_val_v.html">pick_val_v()</a></code> to handle things
for us, but we need to be careful with the indicators, particularly in
the DSA. For example, if we have 10 parameters, of which 7 are set at
simulation level and 3 at patient level, <code>pick_val_V()</code> at
the simulation level will want an indicator vector of length 7 and at
patient level of length 3. In the DSA, as we need to iterate at each
parameter, we need to be aware of which index is being currently run, as
there is the risk of varying the first parameters of both simulation and
patient level at the same time. <code><a href="../reference/create_indicators.html">create_indicators()</a></code> can
handle this for us by telling it how many parameters have gone “before”
(i.e. which ones are higher in the hierarchy, so for simulation level in
this case it would be 0, but for patient level it would be the previous
7 parameters set at the simulation level). See below this example.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#let's set the index to 8th (so it would correspond to the patient level indicator)</span></span>
<span><span class="fu"><a href="../reference/create_indicators.html">create_indicators</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">20</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fl">0</span><span class="op">)</span> <span class="co">#all 0s</span></span>
<span><span class="co">#&gt; [1] 0 0 0 0 0 0 0</span></span>
<span></span>
<span><span class="fu"><a href="../reference/create_indicators.html">create_indicators</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">20</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fl">7</span><span class="op">)</span> <span class="co">#first index is 1! because we know we are at index 8, and we have already gone through 7 iterations</span></span>
<span><span class="co">#&gt; [1] 1 0 0</span></span></code></pre></div>
<p>Let’s simply add a few parameters that are also now at the patient
level. Note that as we are not using this parameters into the model,
they will have no impact but we can still see they are really being
varied. We still need to create specific indicators for each
category.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">l_inputs_pat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>parameter_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"age"</span>,<span class="st">"sex"</span><span class="op">)</span>,</span>
<span>                 base_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">60</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>                 PSA_dist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"rnorm"</span>,<span class="st">"rbinom"</span><span class="op">)</span>,</span>
<span>                 a<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">60</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>                 b<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">0.5</span><span class="op">)</span>,</span>
<span>                 n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 DSA_min <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">0</span><span class="op">)</span>,</span>
<span>                 DSA_max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">80</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>                 scenario_1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">55</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>                 scenario_2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">45</span>,<span class="fl">0</span><span class="op">)</span>,</span>
<span>                 psa_indicators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span>                 <span class="op">)</span></span>
<span></span>
<span><span class="va">i_sensitivity</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span></span>
<span>  iterator_sensitivity <span class="op">=</span> <span class="fu"><a href="../reference/sens_iterator.html">sens_iterator</a></span><span class="op">(</span><span class="va">sens</span>,<span class="va">n_sensitivity</span><span class="op">)</span> <span class="co">#resets back to 1 if it goes over n_sensitivity</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span></span>
<span>            indicators <span class="op">=</span> <span class="kw">if</span><span class="op">(</span><span class="va">sensitivity_bool</span>  <span class="op">&amp;</span> <span class="va">sens_name_used</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DSA_min"</span>, <span class="st">"DSA_max"</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>              <span class="fu"><a href="../reference/create_indicators.html">create_indicators</a></span><span class="op">(</span><span class="va">iterator_sensitivity</span>, </span>
<span>                                <span class="va">n_sensitivity</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">sensitivity_names</span><span class="op">)</span>,</span>
<span>                                <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> </span>
<span>            <span class="op">}</span><span class="kw">else</span><span class="op">{</span></span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>              <span class="op">}</span></span>
<span>          <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span></span>
<span>            indicators_pat <span class="op">=</span> <span class="kw">if</span><span class="op">(</span><span class="va">sensitivity_bool</span>  <span class="op">&amp;</span> <span class="va">sens_name_used</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DSA_min"</span>, <span class="st">"DSA_max"</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>              <span class="fu"><a href="../reference/create_indicators.html">create_indicators</a></span><span class="op">(</span><span class="va">iterator_sensitivity</span>,</span>
<span>                                <span class="va">n_sensitivity</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">sensitivity_names</span><span class="op">)</span>,</span>
<span>                                <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs_pat</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                                <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> </span>
<span>            <span class="op">}</span><span class="kw">else</span><span class="op">{</span></span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs_pat</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>              <span class="op">}</span></span>
<span>          <span class="op">)</span> </span>
<span></span>
<span></span>
<span>  </span>
<span><span class="va">i_pat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/pick_val_v.html">pick_val_v</a></span><span class="op">(</span></span>
<span>      base <span class="op">=</span> <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"base_value"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>      psa <span class="op">=</span> <span class="fu"><a href="../reference/pick_psa.html">pick_psa</a></span><span class="op">(</span></span>
<span>        <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"PSA_dist"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"n"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"b"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>      sens          <span class="op">=</span> <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="va">sens_name_used</span><span class="op">]</span><span class="op">]</span>, <span class="co">#e.g., sens_name_used = "DSA_min"</span></span>
<span>      psa_ind       <span class="op">=</span> <span class="va">psa_bool</span>, <span class="co">#FALSE</span></span>
<span>      sens_ind      <span class="op">=</span> <span class="va">sensitivity_bool</span>, <span class="co">#TRUE</span></span>
<span>      indicator     <span class="op">=</span> <span class="va">indicators_pat</span>, <span class="co">#all 1s, or a vector of 1 1 and the rest 0s.</span></span>
<span>      names_out     <span class="op">=</span> <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>      indicator_psa <span class="op">=</span> <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"psa_indicators"</span><span class="op">]</span><span class="op">]</span> </span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_sim.html">run_sim</a></span><span class="op">(</span>  </span>
<span>  npats<span class="op">=</span><span class="fl">5</span>,                               </span>
<span>  n_sim<span class="op">=</span><span class="fl">2</span>,                                 </span>
<span>  psa_bool <span class="op">=</span> <span class="cn">FALSE</span>,                        </span>
<span>  arm_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"int"</span>, <span class="st">"noint"</span><span class="op">)</span>,             </span>
<span>  common_all_inputs <span class="op">=</span> <span class="va">i_simple</span>,</span>
<span>  unique_pt_inputs  <span class="op">=</span> <span class="va">i_arm</span>,</span>
<span>  common_pt_inputs <span class="op">=</span> <span class="va">i_pat</span>,</span>
<span>  init_event_list <span class="op">=</span> <span class="va">init_event_list</span>,       </span>
<span>  evt_react_list <span class="op">=</span> <span class="va">evt_react_list</span>,         </span>
<span>  util_ongoing_list <span class="op">=</span> <span class="va">util_ongoing</span>,</span>
<span>  cost_ongoing_list <span class="op">=</span> <span class="va">cost_ongoing</span>,</span>
<span>  ipd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  sensitivity_inputs <span class="op">=</span> <span class="va">i_sensitivity</span>,</span>
<span>  sensitivity_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DSA_min"</span>,<span class="st">"DSA_max"</span><span class="op">)</span>,</span>
<span>  sensitivity_bool <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_sensitivity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">l_inputs_pat</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, <span class="co">#9 parameters</span></span>
<span>  input_out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Analysis number: 1</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 1: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 2</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 2: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 3</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 3: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 4</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 4: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 5</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 5: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 6</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 6: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 7</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 7: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 8</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 8: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 9</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 9: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 10</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 10: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 11</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 11: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 12</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 12: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 13</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 13: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 14</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.07s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 14: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 15</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 15: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 16</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.07s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 16: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 17</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 17: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 18</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.07s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 18: 0.13s</span></span>
<span><span class="co">#&gt; Total time to run: 2.31s</span></span>
<span><span class="co">#&gt; Simulation finalized;</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary_results_sens.html">summary_results_sens</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt;          arm analysis analysis_name     variable                value</span></span>
<span><span class="co">#&gt;       &lt;char&gt;    &lt;int&gt;        &lt;char&gt;       &lt;fctr&gt;               &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1:    int        1       DSA_min        costs 7,768 (7,768; 7,768)</span></span>
<span><span class="co">#&gt;    2:  noint        1       DSA_min        costs 5,826 (5,826; 5,826)</span></span>
<span><span class="co">#&gt;    3:    int        2       DSA_min        costs 7,768 (7,768; 7,768)</span></span>
<span><span class="co">#&gt;    4:  noint        2       DSA_min        costs 5,826 (5,826; 5,826)</span></span>
<span><span class="co">#&gt;    5:    int        3       DSA_min        costs 3,884 (3,884; 3,884)</span></span>
<span><span class="co">#&gt;   ---                                                                </span></span>
<span><span class="co">#&gt; 1580:  noint       16       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span><span class="co">#&gt; 1581:    int       17       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span><span class="co">#&gt; 1582:  noint       17       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span><span class="co">#&gt; 1583:    int       18       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span><span class="co">#&gt; 1584:  noint       18       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span></span>
<span></span>
<span><span class="va">data_sensitivity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_depth.html" class="external-link">map_depth</a></span><span class="op">(</span><span class="va">results</span>,<span class="fl">2</span>, <span class="st">"merged_df"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">data_sensitivity</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sensitivity</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise_all.html" class="external-link">summarise_at</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"util.sick"</span>,<span class="st">"util.sicker"</span>,<span class="st">"cost.sick"</span>,<span class="st">"cost.sicker"</span>,<span class="st">"cost.int"</span>,<span class="st">"coef_noint"</span>,<span class="st">"HR_int"</span>,<span class="st">"age"</span>,<span class="st">"sex"</span><span class="op">)</span>,<span class="va">mean</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span>bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
sensitivity
</th>
<th style="text-align:right;">
util.sick
</th>
<th style="text-align:right;">
util.sicker
</th>
<th style="text-align:right;">
cost.sick
</th>
<th style="text-align:right;">
cost.sicker
</th>
<th style="text-align:right;">
cost.int
</th>
<th style="text-align:right;">
coef_noint
</th>
<th style="text-align:right;">
HR_int
</th>
<th style="text-align:right;">
age
</th>
<th style="text-align:right;">
sex
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
5000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
800
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-2.303
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0.9
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.7
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
5000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
9000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-0.916
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.9
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="multiple-parameters-covaried">Multiple parameters covaried<a class="anchor" aria-label="anchor" href="#multiple-parameters-covaried"></a>
</h3>
<p>WARDEN also allows to have parameters being changed together in the
DSA, so if the programmer believes that e.g, age and sex should take
their min and max value together, that can be done by switching from a
0-1 vector to a vector which takes integer values to reflect the DSA
scenario number. See below this applied, and we also assume that the
utilities and costs are varied together. In this case, the indicators
are simplified, as we only need 1) the correct index (provided by
<code>iterator_sensitivity</code>) and 2) the dsa indicators index to
understand which parameters are covaried. We also need to make sure to
adjust <code>n_sensitivity</code> in <code><a href="../reference/run_sim.html">run_sim()</a></code> to the new
number of dsa iterations (5).</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">l_inputs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>parameter_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"util.sick"</span>,<span class="st">"util.sicker"</span>,<span class="st">"cost.sick"</span>,<span class="st">"cost.sicker"</span>,<span class="st">"cost.int"</span>,<span class="st">"coef_noint"</span>,<span class="st">"HR_int"</span><span class="op">)</span>,</span>
<span>                 base_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0.8</span>,<span class="fl">0.5</span>,<span class="fl">3000</span>,<span class="fl">7000</span>,<span class="fl">1000</span>,<span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.2</span><span class="op">)</span>,<span class="fl">0.8</span><span class="op">)</span>,</span>
<span>                 PSA_dist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"rnorm"</span>,<span class="st">"rbeta_mse"</span>,<span class="st">"rgamma_mse"</span>,<span class="st">"rgamma_mse"</span>,<span class="st">"rgamma_mse"</span>,<span class="st">"rnorm"</span>,<span class="st">"rlnorm"</span><span class="op">)</span>,</span>
<span>                 a<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0.8</span>,<span class="fl">0.5</span>,<span class="fl">3000</span>,<span class="fl">7000</span>,<span class="fl">1000</span>,<span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.2</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.8</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 b<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0.8</span>,<span class="fl">0.5</span>,<span class="fl">3000</span>,<span class="fl">7000</span>,<span class="fl">1000</span>,<span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.2</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.8</span><span class="op">)</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">x</span><span class="op">/</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">7</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 DSA_min <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0.6</span>,<span class="fl">0.3</span>,<span class="fl">1000</span>,<span class="fl">5000</span>,<span class="fl">800</span>,<span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.1</span><span class="op">)</span>,<span class="fl">0.5</span><span class="op">)</span>,</span>
<span>                 DSA_max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0.9</span>,<span class="fl">0.7</span>,<span class="fl">5000</span>,<span class="fl">9000</span>,<span class="fl">2000</span>,<span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.4</span><span class="op">)</span>,<span class="fl">0.9</span><span class="op">)</span>,</span>
<span>                 scenario_1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0.6</span>,<span class="fl">0.3</span>,<span class="fl">1000</span>,<span class="fl">5000</span>,<span class="fl">800</span>,<span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.1</span><span class="op">)</span>,<span class="fl">0.5</span><span class="op">)</span>,</span>
<span>                 scenario_2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0.9</span>,<span class="fl">0.7</span>,<span class="fl">5000</span>,<span class="fl">9000</span>,<span class="fl">2000</span>,<span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">0.4</span><span class="op">)</span>,<span class="fl">0.9</span><span class="op">)</span>,</span>
<span>                 psa_indicators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 dsa_indicators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span>  <span class="co">#covary utilities together, costs together</span></span>
<span>                 <span class="op">)</span></span>
<span></span>
<span><span class="va">l_inputs_pat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>parameter_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"age"</span>,<span class="st">"sex"</span><span class="op">)</span>,</span>
<span>                 base_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">60</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>                 PSA_dist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"rnorm"</span>,<span class="st">"rbinom"</span><span class="op">)</span>,</span>
<span>                 a<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">60</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>                 b<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">0.5</span><span class="op">)</span>,</span>
<span>                 n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 DSA_min <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">0</span><span class="op">)</span>,</span>
<span>                 DSA_max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">80</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>                 scenario_1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">55</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>                 scenario_2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">45</span>,<span class="fl">0</span><span class="op">)</span>,</span>
<span>                 psa_indicators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 dsa_indicators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span> <span class="co">#will be 5th analysis done</span></span>
<span>                 <span class="op">)</span></span>
<span></span>
<span><span class="va">i_sensitivity</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span></span>
<span>  iterator_sensitivity <span class="op">=</span> <span class="fu"><a href="../reference/sens_iterator.html">sens_iterator</a></span><span class="op">(</span><span class="va">sens</span>,<span class="va">n_sensitivity</span><span class="op">)</span> <span class="co">#resets back to 1 if it goes over n_sensitivity</span></span>
<span>  <span class="op">)</span> </span>
<span></span>
<span></span>
<span><span class="va">i_simple</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/pick_val_v.html">pick_val_v</a></span><span class="op">(</span></span>
<span>      base <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"base_value"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>      psa <span class="op">=</span> <span class="fu"><a href="../reference/pick_psa.html">pick_psa</a></span><span class="op">(</span></span>
<span>        <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"PSA_dist"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"n"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"b"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>      sens          <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="va">sens_name_used</span><span class="op">]</span><span class="op">]</span>, <span class="co">#e.g., sens_name_used = "DSA_min"</span></span>
<span>      psa_ind       <span class="op">=</span> <span class="va">psa_bool</span>, <span class="co">#FALSE</span></span>
<span>      sens_ind      <span class="op">=</span> <span class="va">sensitivity_bool</span>, <span class="co">#TRUE</span></span>
<span>      indicator     <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"dsa_indicators"</span><span class="op">]</span><span class="op">]</span>, </span>
<span>      sens_iterator <span class="op">=</span> <span class="va">iterator_sensitivity</span>,</span>
<span>      indicator_sens_binary <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>      names_out     <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>      indicator_psa <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"psa_indicators"</span><span class="op">]</span><span class="op">]</span> ,</span>
<span>      distributions <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"PSA_dist"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>      covariances   <span class="op">=</span> <span class="va">l_inputs</span><span class="op">[[</span><span class="st">"b"</span><span class="op">]</span><span class="op">]</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  </span>
<span><span class="va">i_pat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_item.html">add_item</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/pick_val_v.html">pick_val_v</a></span><span class="op">(</span></span>
<span>      base <span class="op">=</span> <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"base_value"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>      psa <span class="op">=</span> <span class="fu"><a href="../reference/pick_psa.html">pick_psa</a></span><span class="op">(</span></span>
<span>        <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"PSA_dist"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"n"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>        <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"b"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>      sens          <span class="op">=</span> <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="va">sens_name_used</span><span class="op">]</span><span class="op">]</span>, <span class="co">#e.g., sens_name_used = "DSA_min"</span></span>
<span>      psa_ind       <span class="op">=</span> <span class="va">psa_bool</span>, <span class="co">#FALSE</span></span>
<span>      sens_ind      <span class="op">=</span> <span class="va">sensitivity_bool</span>, <span class="co">#TRUE</span></span>
<span>      indicator     <span class="op">=</span> <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"dsa_indicators"</span><span class="op">]</span><span class="op">]</span>, </span>
<span>      sens_iterator <span class="op">=</span> <span class="va">iterator_sensitivity</span>,</span>
<span>      indicator_sens_binary <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>      names_out     <span class="op">=</span> <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>      indicator_psa <span class="op">=</span> <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"psa_indicators"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>      distributions <span class="op">=</span> <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"PSA_dist"</span><span class="op">]</span><span class="op">]</span>,</span>
<span>      covariances   <span class="op">=</span> <span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"b"</span><span class="op">]</span><span class="op">]</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_sim.html">run_sim</a></span><span class="op">(</span>  </span>
<span>  npats<span class="op">=</span><span class="fl">5</span>,                               </span>
<span>  n_sim<span class="op">=</span><span class="fl">2</span>,                                 </span>
<span>  psa_bool <span class="op">=</span> <span class="cn">FALSE</span>,                        </span>
<span>  arm_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"int"</span>, <span class="st">"noint"</span><span class="op">)</span>,             </span>
<span>  common_all_inputs <span class="op">=</span> <span class="va">i_simple</span>,</span>
<span>  unique_pt_inputs  <span class="op">=</span> <span class="va">i_arm</span>,</span>
<span>  common_pt_inputs <span class="op">=</span> <span class="va">i_pat</span>,</span>
<span>  init_event_list <span class="op">=</span> <span class="va">init_event_list</span>,       </span>
<span>  evt_react_list <span class="op">=</span> <span class="va">evt_react_list</span>,         </span>
<span>  util_ongoing_list <span class="op">=</span> <span class="va">util_ongoing</span>,</span>
<span>  cost_ongoing_list <span class="op">=</span> <span class="va">cost_ongoing</span>,</span>
<span>  ipd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  sensitivity_inputs <span class="op">=</span> <span class="va">i_sensitivity</span>,</span>
<span>  sensitivity_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DSA_min"</span>,<span class="st">"DSA_max"</span><span class="op">)</span>,</span>
<span>  sensitivity_bool <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_sensitivity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="st">"dsa_indicators"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"dsa_indicators"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>, <span class="co">#5 parameters!!!</span></span>
<span>  input_out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Analysis number: 1</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 1: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 2</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 2: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 3</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.07s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 3: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 4</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.07s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 4: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 5</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 5: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 6</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 6: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 7</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 7: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 8</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 8: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 9</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 9: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 10</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 10: 0.12s</span></span>
<span><span class="co">#&gt; Total time to run: 1.28s</span></span>
<span><span class="co">#&gt; Simulation finalized;</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary_results_sens.html">summary_results_sens</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt;         arm analysis analysis_name     variable                value</span></span>
<span><span class="co">#&gt;      &lt;char&gt;    &lt;int&gt;        &lt;char&gt;       &lt;fctr&gt;               &lt;char&gt;</span></span>
<span><span class="co">#&gt;   1:    int        1       DSA_min        costs 7,768 (7,768; 7,768)</span></span>
<span><span class="co">#&gt;   2:  noint        1       DSA_min        costs 5,826 (5,826; 5,826)</span></span>
<span><span class="co">#&gt;   3:    int        2       DSA_min        costs 3,496 (3,496; 3,496)</span></span>
<span><span class="co">#&gt;   4:  noint        2       DSA_min        costs 1,942 (1,942; 1,942)</span></span>
<span><span class="co">#&gt;   5:    int        3       DSA_min        costs 7,768 (7,768; 7,768)</span></span>
<span><span class="co">#&gt;  ---                                                                </span></span>
<span><span class="co">#&gt; 876:  noint        8       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span><span class="co">#&gt; 877:    int        9       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span><span class="co">#&gt; 878:  noint        9       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span><span class="co">#&gt; 879:    int       10       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span><span class="co">#&gt; 880:  noint       10       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span></span>
<span></span>
<span><span class="va">data_sensitivity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_depth.html" class="external-link">map_depth</a></span><span class="op">(</span><span class="va">results</span>,<span class="fl">2</span>, <span class="st">"merged_df"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">data_sensitivity</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sensitivity</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise_all.html" class="external-link">summarise_at</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"util.sick"</span>,<span class="st">"util.sicker"</span>,<span class="st">"cost.sick"</span>,<span class="st">"cost.sicker"</span>,<span class="st">"cost.int"</span>,<span class="st">"coef_noint"</span>,<span class="st">"HR_int"</span>,<span class="st">"age"</span>,<span class="st">"sex"</span><span class="op">)</span>,<span class="va">mean</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span>bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
sensitivity
</th>
<th style="text-align:right;">
util.sick
</th>
<th style="text-align:right;">
util.sicker
</th>
<th style="text-align:right;">
cost.sick
</th>
<th style="text-align:right;">
cost.sicker
</th>
<th style="text-align:right;">
cost.int
</th>
<th style="text-align:right;">
coef_noint
</th>
<th style="text-align:right;">
HR_int
</th>
<th style="text-align:right;">
age
</th>
<th style="text-align:right;">
sex
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
5000
</td>
<td style="text-align:right;">
800
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-2.303
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.9
</td>
<td style="text-align:right;">
0.7
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
5000
</td>
<td style="text-align:right;">
9000
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-0.916
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.9
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="parameters-that-are-vectors">Parameters that are vectors<a class="anchor" aria-label="anchor" href="#parameters-that-are-vectors"></a>
</h3>
<p>Now we are ready to handle all cases. The only approach not shown yet
is when some parameters are vectors instead of length 1. In this case,
the approach is the same as the previous one, as those parameters would
be varied together. We add to <code>l_inputs_pat</code> a new parameter
of length 2 that will be a multivariate normal. Below it can be seen for
a DSA, but by now it should be straightforward to switch to
probabilistic DSA, deterministic case, or standard PSA.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">l_inputs_pat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>parameter_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"age"</span>,<span class="st">"sex"</span>, <span class="st">"v_state"</span><span class="op">)</span>,</span>
<span>                 base_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">60</span>,<span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">20</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 PSA_dist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"rnorm"</span>,<span class="st">"rbinom"</span>,<span class="st">"mvrnorm"</span><span class="op">)</span>,</span>
<span>                 a<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">60</span>,<span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">20</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 b<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">0.5</span>,<span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">1</span><span class="op">)</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 n<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 DSA_min <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 DSA_max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">80</span>,<span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span>,<span class="fl">25</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 scenario_1<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">55</span>,<span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>,<span class="fl">21</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 scenario_2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">45</span>,<span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 psa_indicators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span>, <span class="co">#we vary the first one but not the second one in PSA!</span></span>
<span>                 dsa_indicators <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span>                 <span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_sim.html">run_sim</a></span><span class="op">(</span>  </span>
<span>  npats<span class="op">=</span><span class="fl">5</span>,                               </span>
<span>  n_sim<span class="op">=</span><span class="fl">2</span>,                                 </span>
<span>  psa_bool <span class="op">=</span> <span class="cn">FALSE</span>,                        </span>
<span>  arm_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"int"</span>, <span class="st">"noint"</span><span class="op">)</span>,             </span>
<span>  common_all_inputs <span class="op">=</span> <span class="va">i_simple</span>,</span>
<span>  unique_pt_inputs  <span class="op">=</span> <span class="va">i_arm</span>,</span>
<span>  common_pt_inputs <span class="op">=</span> <span class="va">i_pat</span>,</span>
<span>  init_event_list <span class="op">=</span> <span class="va">init_event_list</span>,       </span>
<span>  evt_react_list <span class="op">=</span> <span class="va">evt_react_list</span>,         </span>
<span>  util_ongoing_list <span class="op">=</span> <span class="va">util_ongoing</span>,</span>
<span>  cost_ongoing_list <span class="op">=</span> <span class="va">cost_ongoing</span>,</span>
<span>  ipd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  sensitivity_inputs <span class="op">=</span> <span class="va">i_sensitivity</span>,</span>
<span>  sensitivity_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DSA_min"</span>,<span class="st">"DSA_max"</span><span class="op">)</span>,</span>
<span>  sensitivity_bool <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_sensitivity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="st">"dsa_indicators"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"dsa_indicators"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>, <span class="co">#6 parameters!</span></span>
<span>  input_out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">l_inputs</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">l_inputs_pat</span><span class="op">[[</span><span class="st">"parameter_name"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Analysis number: 1</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 1: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 2</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 2: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 3</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.07s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 3: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 4</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 4: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 5</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 5: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 6</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 6: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 7</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 7: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 8</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 8: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 9</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 9: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 10</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.07s</span></span>
<span><span class="co">#&gt; Time to run analysis 10: 0.13s</span></span>
<span><span class="co">#&gt; Analysis number: 11</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.06s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 11: 0.12s</span></span>
<span><span class="co">#&gt; Analysis number: 12</span></span>
<span><span class="co">#&gt; Simulation number: 1</span></span>
<span><span class="co">#&gt; Time to run simulation 1: 0.07s</span></span>
<span><span class="co">#&gt; Simulation number: 2</span></span>
<span><span class="co">#&gt; Time to run simulation 2: 0.06s</span></span>
<span><span class="co">#&gt; Time to run analysis 12: 0.13s</span></span>
<span><span class="co">#&gt; Total time to run: 1.54s</span></span>
<span><span class="co">#&gt; Simulation finalized;</span></span>
<span></span>
<span><span class="fu"><a href="../reference/summary_results_sens.html">summary_results_sens</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="co">#&gt;          arm analysis analysis_name     variable                value</span></span>
<span><span class="co">#&gt;       &lt;char&gt;    &lt;int&gt;        &lt;char&gt;       &lt;fctr&gt;               &lt;char&gt;</span></span>
<span><span class="co">#&gt;    1:    int        1       DSA_min        costs 7,768 (7,768; 7,768)</span></span>
<span><span class="co">#&gt;    2:  noint        1       DSA_min        costs 5,826 (5,826; 5,826)</span></span>
<span><span class="co">#&gt;    3:    int        2       DSA_min        costs 3,496 (3,496; 3,496)</span></span>
<span><span class="co">#&gt;    4:  noint        2       DSA_min        costs 1,942 (1,942; 1,942)</span></span>
<span><span class="co">#&gt;    5:    int        3       DSA_min        costs 7,768 (7,768; 7,768)</span></span>
<span><span class="co">#&gt;   ---                                                                </span></span>
<span><span class="co">#&gt; 1052:  noint       10       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span><span class="co">#&gt; 1053:    int       11       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span><span class="co">#&gt; 1054:  noint       11       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span><span class="co">#&gt; 1055:    int       12       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span><span class="co">#&gt; 1056:  noint       12       DSA_max dutil.sicker             0 (0; 0)</span></span>
<span></span>
<span></span>
<span><span class="va">data_sensitivity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_depth.html" class="external-link">map_depth</a></span><span class="op">(</span><span class="va">results</span>,<span class="fl">2</span>, <span class="st">"merged_df"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#v_state is length &gt; 1, so it does not appear in merged_df as it would break the data. We can get it manually and print it</span></span>
<span><span class="va">v_state_avg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span> v_state <span class="op">=</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://purrr.tidyverse.org/reference/map_depth.html" class="external-link">map_depth</a></span><span class="op">(</span><span class="va">results</span>,<span class="fl">2</span>, <span class="st">"v_state"</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="va">vecs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">x</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">int</span>, <span class="va">x</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">noint</span>, <span class="va">x</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">int</span>, <span class="va">x</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">noint</span><span class="op">)</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">vecs</span><span class="op">)</span><span class="op">)</span>, collapse<span class="op">=</span><span class="st">", "</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">data_sensitivity</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">sensitivity</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise_all.html" class="external-link">summarise_at</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"util.sick"</span>,<span class="st">"util.sicker"</span>,<span class="st">"cost.sick"</span>,<span class="st">"cost.sicker"</span>,<span class="st">"cost.int"</span>,<span class="st">"coef_noint"</span>,<span class="st">"HR_int"</span>,<span class="st">"age"</span>,<span class="st">"sex"</span><span class="op">)</span>,<span class="va">mean</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_cols.html" class="external-link">bind_cols</a></span><span class="op">(</span><span class="va">v_state_avg</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span>bootstrap_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>, <span class="st">"responsive"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
sensitivity
</th>
<th style="text-align:right;">
util.sick
</th>
<th style="text-align:right;">
util.sicker
</th>
<th style="text-align:right;">
cost.sick
</th>
<th style="text-align:right;">
cost.sicker
</th>
<th style="text-align:right;">
cost.int
</th>
<th style="text-align:right;">
coef_noint
</th>
<th style="text-align:right;">
HR_int
</th>
<th style="text-align:right;">
age
</th>
<th style="text-align:right;">
sex
</th>
<th style="text-align:left;">
v_state
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:right;">
0.3
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
10, 20
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
5000
</td>
<td style="text-align:right;">
800
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
10, 20
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-2.303
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
10, 20
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
10, 20
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
10, 20
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
5, 10
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0.9
</td>
<td style="text-align:right;">
0.7
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
10, 20
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
5000
</td>
<td style="text-align:right;">
9000
</td>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
10, 20
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-0.916
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
10, 20
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.9
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
10, 20
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
10, 20
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
0.5
</td>
<td style="text-align:right;">
3000
</td>
<td style="text-align:right;">
7000
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
-1.609
</td>
<td style="text-align:right;">
0.8
</td>
<td style="text-align:right;">
60
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
15, 25
</td>
</tr>
</tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Javier Sanchez Alvarez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
